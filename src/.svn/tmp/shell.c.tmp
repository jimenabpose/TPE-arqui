/*
** ciclo principal del interprete de comandos
*/

void
funcionPrincipal()
{
	int i;
	int c;
	int ret;
	char data[2][LONG_STR_TKN];
	char in[LONG_STR_CMD];

	/*tTicks=0;*/

	flush();
	/*cursor = 0;*/

	while(1)
	{
		/*if(ret==ECHO_CD || ret==CNF_CD || ret==SETTIME_CD || ret==GBG_CD || ret==CODE_CD)
			put_char('\n');

		print_nline();
		*/

		i=0;
		
		while((c=get_char())!='\n')
		{
			if(c<0x05)
				;
			else if(c!='\x08')
			{
				if(i<LONG_STR_CMD)
					in[i]=c;
				i++;
				printChar(c);
				flush();
			}
			else if(i>0)
			{
				i--;
				printChar(c);
				flush();
			}
		}
		printChar('\n');
		if(i>=LONG_STR_CMD)
			i=LONG_STR_CMD-1;
		in[i]=0;

		/*separaPorEspacios(in, data);*/

		ret=comandos(data);

		data[0][0]=data[1][0]=0;
	}
}


